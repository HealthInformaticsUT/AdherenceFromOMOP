[{"path":[]},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a01-getting-started.html","id":"database-connection-with-cdmconnector","dir":"Articles","previous_headings":"Getting started with the basics","what":"Database connection with CDMConnector","title":"Getting Started","text":"AdherenceFromOMOP relies CDMConnector database connection options currently unavailable.","code":"devtools::install_github(\"https://github.com/HealthInformaticsUT/AdherenceFromOMOP/\") readRenviron(\"~/.Renviron\")  writePrefix <- \"adherencefromomop_\"  db <- DBI::dbConnect(   RPostgres::Postgres(),   dbname = Sys.getenv(\"DB_NAME\"),   host = Sys.getenv(\"DB_HOST\"),   user = Sys.getenv(\"DB_USERNAME\"),   password = Sys.getenv(\"DB_PASSWORD\"),   port = Sys.getenv(\"DB_PORT\") )  cdm <- CDMConnector::cdmFromCon(   con = db,   cdmSchema = Sys.getenv(\"OHDSI_CDM\"),   writeSchema = Sys.getenv(\"OHDSI_WRITE\"),   writePrefix = writePrefix )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a01-getting-started.html","id":"calculating-adherence","dir":"Articles","previous_headings":"Getting started with the basics","what":"Calculating adherence","title":"Getting Started","text":"Using adherenceFromOMOP involves two main steps. First, required data must retrieved written designated table database. extract necessary data, use generateChronicDrugExposure. drugConceptIdList input variable, expects drug_concept_id values list, recommended use CodelistGenerator. Medication groups can defined calculate adherence therapeutic category. , reuse earlier drugIngredientCodes object. compute adherence, large datasets use loader functions.","code":"# Step 0 - cdm connection # for demos mock dataset is recommended library(AdherenceFromOMOP) cdm <- mockAdherenceFromOMOP() # recommended method for acquiring drug_concept_id values drugIngredientCodes <- CodelistGenerator::getDrugIngredientCodes(cdm = cdm, name = c(42899580, 37498042)) concepts_ids <- unlist(drugIngredientCodes, use.names = F)  # Step 1 - data generation chronicDrugExposure <- generateChronicDrugExposure(   cdm = cdm,   # drugConceptIdList = concepts_ids,   name = \"drug_exposure_demo\",   overwrite = T )  chronicDrugExposure adherence <- adherenceCalculationsLoader(   reference = chronicDrugExposure,   cdm = cdm,   medicationGroup = drugIngredientCodes,   resultsTableName = \"basic_adherence\",   cma = c(     \"CMA3\"   ) )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a01-getting-started.html","id":"adding-features-to-cma-values","dir":"Articles","previous_headings":"Getting started with the basics","what":"Adding features to CMA values","title":"Getting Started","text":"can add features either sliding-window periods overall observation period.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a01-getting-started.html","id":"adding-bmi-values","dir":"Articles","previous_headings":"Getting started with the basics > Adding features to CMA values","what":"Adding BMI values","title":"Getting Started","text":"","code":"# demo data show only NA for avg_bmi cma_with_bmi <- addBMI(adherence, cdm)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a01-getting-started.html","id":"adding-cohort-membership-as-columns","dir":"Articles","previous_headings":"Getting started with the basics > Adding features to CMA values","what":"Adding cohort membership as columns","title":"Getting Started","text":"","code":"pathToCohorts <- paste0(getwd(),\"/inst/\") # path to cohorts   cohortSet <- CDMConnector::readCohortSet(pathToCohorts) cdm <- CDMConnector::generateCohortSet(cdm, cohortSet, name = \"cohort\")  cohort <- dplyr::collect(cdm$cohort)  adherence_with_cohorts_as_features <- addCohorts(adherence, cohort)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a01-getting-started.html","id":"number-of-people-in-cohort","dir":"Articles","previous_headings":"Getting started with the basics > Adding features to CMA values","what":"Number of people in cohort","title":"Getting Started","text":"","code":"stats <- countPeople(cdm = cdm, generatedTable = chronicDrugExposure, cmaTable = adherence)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a02-generate-data.html","id":"working-with-cohorts","dir":"Articles","previous_headings":"","what":"Working with cohorts","title":"Data generation","text":"useful restrict adherence calculations individuals belong specific cohort. AdherenceFromOMOP supports directly cohortSchema cohortId arguments generateChronicDrugExposure() drug exposure events satisfy following conditions included: person_id included cohort, drug_exposure_start_date falls within cohort start–end period","code":"# preparation, no need to replicate cdm <- mockAdherenceFromOMOP()  cohort <- dplyr::tibble(   cohort_definition_id = 1, subject_id = 1,   cohort_start_date = as.Date(\"1980-01-01\"),   cohort_end_date = as.Date(\"2020-01-10\") )  DBI::dbWriteTable(conn = CDMConnector::cdmCon(cdm), name = DBI::Id(schema = \"main\", table = \"cohort\"), value = cohort, append = TRUE) chronicDrugExposureCohort <- generateChronicDrugExposure(   cdm = cdm,   name =  \"test_table\",   overwrite = T,   cohortSchema = \"main\",   cohortId = 1, )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a02-generate-data.html","id":"using-drugconceptidlist-variable","dir":"Articles","previous_headings":"","what":"Using drugConceptIdList variable","title":"Data generation","text":"may optionally restrict included drug exposure events specific list drug_concept_id values using drugConceptIdList argument. list can generated manually , conveniently, CodelistGenerator::getDrugIngredientCodes().","code":"ingredients <- c(...) medicationGroups <- CodelistGenerator::getDrugIngredientCodes(cdm = cdm,                                                       name = ingredients,                                                       nameStyle = \"{concept_code}\")  ingredientNames <- names(medicationGroups) drug_concept_id_lst <- unlist(medicationGroups, use.names = F)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a03-calculating-adherence.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Calculating Adherence","text":"Medication adherence calculations depend CMA (Continuous Medication Availability) measure selected. AdherenceFromOMOP supports CMA types 1–9. examples illustrating behavior different CMA types, see Intro CMA tutorial. package adherenceSlidingWindow adherenceCalculations wrappers functions AdhereR package. detailed guidance, refer AdhereR documentation. large datasets, recommended use adherenceSlidingWindowLoader adherenceCalculationsLoader, load data chunks write results directly database. AdhereR software follow-window total period relevant medication events recorded patients, observation window period within follow-window adherence actually computed. Within OMOP framework, adherence can computed two ways, depending whether cohorts used data generation: cohorts present: Cohort start/end dates define AdhereR observation window. Observation period start/end dates define AdhereR follow-window. cohorts used: observation period start/end dates define follow-observation windows.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a03-calculating-adherence.html","id":"medication-groups","dir":"Articles","previous_headings":"","what":"Medication groups","title":"Calculating Adherence","text":"default, CMA values calculated using medication data available input dataset. compute adherence specific drug groups separate medications categories, medicationGroups argument can supplied. argument expects named list. recommended generate lists using CodelistGenerator package. medications overlap across groups, CMA values unaffected (data omitted). details, see medication.groups documentation AdhereR. example manually creating medication groups:","code":"medicationGroup <- list(   c(1361364),   c(1830280)   # vectors of drug_concept_ids ) groupNames <- c(\"group1\", \"group2\")  names(medicationGroup) <- groupNames  # Optional: wrap for improved display medicationGroup <- omopgenerics::newCodelist(medicationGroup)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a03-calculating-adherence.html","id":"general-medication-adherence","dir":"Articles","previous_headings":"","what":"General medication adherence","title":"Calculating Adherence","text":"used calculating adherence throughout subjects observation period.","code":"results <- adherenceCalculationsLoader(chronicDrugExposure, cdm, resultsTableName = \"AdherenceFromOMOP_demo_cma5\", cma = c(\"CMA5\"), medicationGroup = medicationGroup) results"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a03-calculating-adherence.html","id":"medication-adherence-with-sliding-window","dir":"Articles","previous_headings":"","what":"Medication adherence with sliding window","title":"Calculating Adherence","text":"approach computes adherence series sliding windows within observation period, allowing adherence examined time. Unlike AdhereR function output, window.ID values unique across records given patient. assigned sequentially within contiguous period without NA values reset gaps. Setting delayObservationWindowStart = TRUE delays start sliding-window sequence first prescription dispensed.","code":"results <- adherenceSlidingWindowLoader(chronicDrugExposure, cdm, resultsTableName = \"AdherenceFromOMOP_demo_sw\", cma = c(\"CMA5\"), delayObservationWindowStart = FALSE, medicationGroup = medicationGroup) results results_delayed <- adherenceSlidingWindowLoader(chronicDrugExposure, cdm, resultsTableName = \"AdherenceFromOMOP_demo_sw_delayed\", cma = c(\"CMA5\"), delayObservationWindowStart = TRUE) results"},{"path":[]},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma1","dir":"Articles","previous_headings":"","what":"CMA1","title":"Intro to CMA","text":"Medication availability based days supplied (excluding last event) Events start observation window included Requires ≥2 events Computes: sum(days_supply values except last) / (days first last event)","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma2","dir":"Articles","previous_headings":"","what":"CMA2","title":"Intro to CMA","text":"Medication availability including last event, using observation window end Events start observation window included Computes: sum(days_supply values) / (time first event → observation window end)","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma-3-4","dir":"Articles","previous_headings":"","what":"CMA 3 & 4","title":"Intro to CMA","text":"formulas CMA1 CMA2, capped 100%.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma-5","dir":"Articles","previous_headings":"","what":"CMA 5","title":"Intro to CMA","text":"Proportion gap days relative time first last event. Equivalent 1 – CMA1 computed using theoretical use accumulated gap time. Requires ≥2 events Events start observation window included Computes: (number days theoretical use) / (days first last event) Theoretical use sample patient number 1: 30 + 90 + 90. start last event cuts length second last event. CMA1 second last event included entirely.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma6","dir":"Articles","previous_headings":"","what":"CMA6","title":"Intro to CMA","text":"Proportion gap days relative time first end observation window. Equivalent 1 – CMA2 computed using theoretical use accumulated gap time. Events start observation window included Theoretical use sample patient number 1: 30 + 90 + 90 + 36.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma7","dir":"Articles","previous_headings":"","what":"CMA7","title":"Intro to CMA","text":"Gap-based measure using full observation window start → end. anchoring first event. measures adherence relative entire observation period. Includes events observation period starts Theoretical use sample patient number 1: 25 + 30 + 90 + 90 + 36.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma8","dir":"Articles","previous_headings":"","what":"CMA8","title":"Intro to CMA","text":"Lagged version CMA7. observation window starts short “lag” event starts observation window. Useful excluding initial adjustment period. Computes: (number days theoretical use) / (lagged start end observation window) Number days accounting lagged start patient 1: 481 - 25.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a04-adherence.html","id":"cma9","dir":"Articles","previous_headings":"","what":"CMA9","title":"Intro to CMA","text":"Weighted daily adherence measure. method evaluates, every day, much medication supply covers day averages across entire window. Useful event timing overlaps matter substantially. Computes (number days observation window, weighted ratio days supply applicable event interval) / (start end observation window) Patient 3: ((1 - 612/702) * 306) / 481 612 number gap days end first () event end follow-window. 702 number days start first event end follow-window. 306 number days start first event end observation window. 481 total length observation window. Patient 2: ((1 - 0/30)30 + (1 - 60/180)180 + (1 - 492/522) * 126) / 481 Patient 1: ((1 - 120/180)145 + (1 - 0/30)30 + (1 - 90/180)180 + (1 - 0/90) 90 + (1 - 162/432) * 36) / 481","code":""},{"path":[]},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a05-examples.html","id":"database-connection","dir":"Articles","previous_headings":"Example use cases with statins","what":"Database connection","title":"Example use cases with statins","text":"","code":"readRenviron(\"~/.Renviron\")  writePrefix <- \"adherencefromomop_\"  db <- DBI::dbConnect(   RPostgres::Postgres(),   dbname = Sys.getenv(\"DB_NAME\"),   host = Sys.getenv(\"DB_HOST\"),   user = Sys.getenv(\"DB_USERNAME\"),   password = Sys.getenv(\"DB_PASSWORD\"),   port = Sys.getenv(\"DB_PORT\") )  cdm <- CDMConnector::cdmFromCon(   con = db,   cdmSchema = Sys.getenv(\"OHDSI_CDM\"),   writeSchema = Sys.getenv(\"OHDSI_WRITE\"),   writePrefix = writePrefix ) statiinid <- c(\"Atorvastatin\", \"Rosuvastatin\", \"Simvastatin\", \"Pravastatin\", \"Fluvastatin\", \"Lovastatin\", \"Pitavastatin\")"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a05-examples.html","id":"adherence-for-each-statin-group","dir":"Articles","previous_headings":"Example use cases with statins","what":"Adherence for each statin group","title":"Example use cases with statins","text":"calculate adherence medication group groups must defined first:","code":"medicationGroups <- CodelistGenerator::getDrugIngredientCodes(cdm = cdm,                                                       name = statiinid,                                                       nameStyle = \"{concept_code}\")  ingredientNames <- names(medicationGroups) concepts <- unlist(medicationGroups, use.names = F) # generate chronic drug exposure uses codelist generator for finding suitable drugs by default ingredients (provided by drugConceptList) are included 1 out of inf.  all_statins <- generateChronicDrugExposure(   cdm = cdm,   drugConceptIdList = concepts,   name = \"statins_study\",   overwrite = T )  # if the table already exists in database all_statins <- dplyr::tbl(db, CDMConnector::inSchema(CDMConnector::cdmWriteSchema(cdm), table = \"statins_study\", CDMConnector::dbms(db))) adherenceCMA5 <- adherenceCalculationsLoader(   reference = all_statins,   cdm = cdm,   medicationGroup = medicationGroups,   resultsTableName = \"statins_cma5\",   cma = \"CMA5\" )  # if the table already exists in database adherenceCMA5 <- dplyr::tbl(db, CDMConnector::inSchema(CDMConnector::cdmWriteSchema(cdm), table = \"statins_cma5\", CDMConnector::dbms(db)))"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a05-examples.html","id":"adherence-for-each-statin-group-using-cohorts","dir":"Articles","previous_headings":"Example use cases with statins","what":"Adherence for each statin group using cohorts","title":"Example use cases with statins","text":"selecting people specific cohorts cohort id cohort schema values must used.","code":"all_statins_cohort <- generateChronicDrugExposure(   cdm = cdm,   drugConceptList = statiinid,   name = \"statins_study_1688\",   overwrite = T,   cohortId = 1688,   cohortSchema = \"ohdsi_results_202503\" )  # if the table already exists in database  all_statins_cohort <- dplyr::tbl(db, CDMConnector::inSchema(CDMConnector::cdmWriteSchema(cdm), table = \"statins_study_1688\", CDMConnector::dbms(db)))"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a05-examples.html","id":"combining-medication-groups-for-simvastatin-and-rosuvastatin","dir":"Articles","previous_headings":"Example use cases with statins > Adherence for each statin group using cohorts","what":"Combining medication groups for simvastatin and rosuvastatin","title":"Example use cases with statins","text":"","code":"medicationGroups <- CodelistGenerator::getDrugIngredientCodes(   cdm = cdm,   name = c(\"Atorvastatin\", \"Rosuvastatin\", \"Simvastatin\", \"Pravastatin\", \"Fluvastatin\", \"Lovastatin\", \"Pitavastatin\"),   nameStyle = \"{concept_name}\" )  medicationGroups[[\"simvastatin_rosuvastatin\"]] <- c(medicationGroups[[\"simvastatin\"]], medicationGroups[[\"rosuvastatin\"]])  medicationGroups[[\"simvastatin\"]] <- NULL medicationGroups[[\"rosuvastatin\"]] <- NULL  names(medicationGroups) adherenceCMA5 <- adherenceCalculationsLoader(   reference = all_statins_cohort,   cdm = cdm,   medicationGroup = medicationGroups,   resultsTableName = \"statins_study_1688_medgroups\",   cma = \"CMA5\" ) adherenceCMA5SW <- adherenceSlidingWindowLoader(   reference = all_statins_cohort,   cdm = cdm,   medicationGroup = medicationGroups,   resultsTableName = \"statins_study_1688_medgroups_sw\",   cma = \"CMA5\",   sliding.window.start = 0,   sliding.window.start.unit = c(\"days\", \"weeks\", \"months\", \"years\")[1],   sliding.window.duration = 3,   sliding.window.duration.unit = c(\"days\", \"weeks\", \"months\", \"years\")[4],   sliding.window.step.duration = 3,   sliding.window.step.unit = c(\"days\", \"weeks\", \"months\", \"years\")[4], )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/articles/a05-examples.html","id":"add-cohorts-and-data","dir":"Articles","previous_headings":"Example use cases with statins","what":"Add cohorts and data","title":"Example use cases with statins","text":"Adding cohorts features CMA data requires cohort table input variable. recommended use CDMConnector generating . Adding body mass index separate function. get overview function reports number individuals three groups: (1) individuals included cohort, individuals calculated adherence values, individuals least n drug exposure records within given calendar year, calculated generated drug exposure table.","code":"cohortSet <- CDMConnector::readCohortSet(\"./inst\") cdm <- CDMConnector::generateCohortSet(cdm, cohortSet, \"cohort\")  cohortTable <- dplyr::collect(cdm$cohort)  cma_values_with_cohort_features <- addCohort(adherenceCMA5, cohortTable) cma_data_with_bmi <- addBMI(adherenceCMA5, cdm) stats <- countPeople(cdm = cdm,                         cmaTable = adherenceCMA5,                         generatedTable = all_statins)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Johannes Holm. Author. Greete Kelli Aava. Maintainer.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Holm J (2025). AdherenceFromOMOP: Calculate medication adherence using data OMOP CDM. R package version 0.1.0, https://github.com/HealthInformaticsUT/AdherenceFromOMOP,, https://healthinformaticsut.github.io/AdherenceFromOMOP/index.html.","code":"@Manual{,   title = {AdherenceFromOMOP: Calculate medication adherence using data from OMOP CDM},   author = {Johannes Holm},   year = {2025},   note = {R package version 0.1.0, https://github.com/HealthInformaticsUT/AdherenceFromOMOP,},   url = {https://healthinformaticsut.github.io/AdherenceFromOMOP/index.html}, }"},{"path":[]},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Calculate medication adherence using data from OMOP CDM","text":"Adherence concept indicates well patient follow healthcare provider’s recommendation. Medication adherence specifically shows patient follows medication regimen gaps. important medications meant consumed chronic diseases, efficacy treatment closely correlated continuity medication consumption. One possibility measure adherence secondary database analysis. AdherenceFromOMOP contains functions measure chronic medication adherence using drug_exposure table data mapped OMOP Common Data Model. package supports: generating drug exposure records cohorts /specific medications calculating medication adherence observation period calculating medication adherence using sliding window approach view specific periods observation period add cohort features columns data returned adherence functions view number people areas interest","code":""},{"path":[]},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/index.html","id":"install-package","dir":"","previous_headings":"Getting started with the basics","what":"Install package","title":"Calculate medication adherence using data from OMOP CDM","text":"","code":"devtools::install_github(\"https://github.com/HealthInformaticsUT/AdherenceFromOMOP/\") library(AdherenceFromOMOP)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/index.html","id":"database-connection-with-cdmconnector","dir":"","previous_headings":"Getting started with the basics","what":"Database connection with CDMConnector","title":"Calculate medication adherence using data from OMOP CDM","text":"AdherenceFromOMOP relies CDMConnector database connection options currently unavailable.","code":"readRenviron(\"~/.Renviron\")  writePrefix <- \"adherencefromomop_\"  db <- DBI::dbConnect(   RPostgres::Postgres(),   dbname = Sys.getenv(\"DB_NAME\"),   host = Sys.getenv(\"DB_HOST\"),   user = Sys.getenv(\"DB_USERNAME\"),   password = Sys.getenv(\"DB_PASSWORD\"),   port = Sys.getenv(\"DB_PORT\") )  cdm <- CDMConnector::cdmFromCon(   con = db,   cdmSchema = Sys.getenv(\"OHDSI_CDM\"),   writeSchema = Sys.getenv(\"OHDSI_WRITE\"),   writePrefix = writePrefix )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/index.html","id":"calculating-adherence","dir":"","previous_headings":"Getting started with the basics","what":"Calculating adherence","title":"Calculate medication adherence using data from OMOP CDM","text":"Using adherenceFromOMOP involves two main steps. First, required data must retrieved written designated table database. extract necessary data, use generateChronicDrugExposure. drugConceptIdList input variable, expects drug_concept_id values list, recommended use CodelistGenerator.","code":"# recommended method for acquiring drug_concept_id values drugIngredientCodes <- CodelistGenerator::getDrugIngredientCodes(cdm = cdm, name = c(\"Atorvastatin\")) concepts_ids <- unlist(drugIngredientCodes, use.names = F)  # Step 1 - data generation chronicDrugExposure <- generateChronicDrugExposure(   cdm = cdm,   drugConceptIdList = concepts_ids,   name = \"chronic_drug_exposure_table\",   overwrite = T )  chronicDrugExposure adherence <- adherenceCalculations(data = chronicDrugExposure, cdm, cma = c(\"CMA5\"))"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addBMI.html","id":null,"dir":"Reference","previous_headings":"","what":"adds bmi values to CMA values — addBMI","title":"adds bmi values to CMA values — addBMI","text":"adds bmi values CMA values","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addBMI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"adds bmi values to CMA values — addBMI","text":"","code":"addBMI(cma_table, cdm)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addBMI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"adds bmi values to CMA values — addBMI","text":"cma_table reference table database one memory contains cma values cdm cdm_reference object","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addCohorts.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds cohort columns to cma data — addCohorts","title":"Adds cohort columns to cma data — addCohorts","text":"Adds cohort columns cma data","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addCohorts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds cohort columns to cma data — addCohorts","text":"","code":"addCohorts(cmaTable, cohortTable, cohortIdMappingToNames = NULL)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addCohorts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds cohort columns to cma data — addCohorts","text":"cmaTable reference cma table cohortTable cohort table used adding features. reference memory table columns cohort_definition_id subject_id cohort_start_date cohort_end_date","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addCohorts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds cohort columns to cma data — addCohorts","text":"reference table cma cohort data","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addPatientInformation.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds patient information generated by generate chronic drug exposure function. User does not call this function directly. — addPatientInformation","title":"Adds patient information generated by generate chronic drug exposure function. User does not call this function directly. — addPatientInformation","text":"Adds patient information generated generate chronic drug exposure function. User call function directly.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addPatientInformation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds patient information generated by generate chronic drug exposure function. User does not call this function directly. — addPatientInformation","text":"","code":"addPatientInformation(data, cma_values)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addPatientInformation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds patient information generated by generate chronic drug exposure function. User does not call this function directly. — addPatientInformation","text":"data input used AdhereR functions, generated generateChronicDrugExposure cma_values output AdhereR functions","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/addPatientInformation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds patient information generated by generate chronic drug exposure function. User does not call this function directly. — addPatientInformation","text":"cma values patient information","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculations.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculating simple CMAs for the duration on observation period — adherenceCalculations","title":"Calculating simple CMAs for the duration on observation period — adherenceCalculations","text":"Calculating simple CMAs duration observation period","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculating simple CMAs for the duration on observation period — adherenceCalculations","text":"","code":"adherenceCalculations(   cdm = NULL,   data = NULL,   cma = c(\"CMA1\", \"CMA2\", \"CMA3\", \"CMA4\", \"CMA5\", \"CMA6\", \"CMA7\", \"CMA8\", \"CMA9\"),   name = NULL,   medicationGroup = NULL,   delayObservationWindowStart = FALSE,   ... )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculating simple CMAs for the duration on observation period — adherenceCalculations","text":"cdm cdm_reference object 'name' table data instead cdm provide -memory data. cma default function calculates adherence different CMA algorithms (CMA1-CMA9). name name table used adherence calculations medicationGroup CMA calculated defined group. Medication group named list name drug_concept_id values. creating list highly recommended use CodelistGenerator \"https://darwin-eu.github.io/CodelistGenerator/articles/a04_GenerateVocabularyBasedCodelist.html\" ... input values adhereR CMA function call","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculating simple CMAs for the duration on observation period — adherenceCalculations","text":"table CMA results","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculating simple CMAs for the duration on observation period — adherenceCalculations","text":"","code":"if (FALSE) { # \\dontrun{ connection <- DBI::dbConnect(duckdb::duckdb(dbdir = CDMConnector::eunomiaDir()))  cdm <- CDMConnector::cdmFromCon(   con = connection,   cdmSchema = \"main\",   writeSchema = \"main\",   cdmName = \"my_duckdb_database\" )  cdm <- generateChronicDrugExposure(   cdm = cdm,   ingredients = c(\"acetaminophen\", \"metformin\", \"simvastatin\"),   name = \"test_table\",   overwrite = TRUE ) adherenceCalculations(   cdm = cdm,   ingredient = c(\"acetaminophen\"),   name = \"test_table\",   cma = \"CMA1\" ) } # }"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculationsLoader.html","id":null,"dir":"Reference","previous_headings":"","what":"For using adherence calculations function with large datasets. — adherenceCalculationsLoader","title":"For using adherence calculations function with large datasets. — adherenceCalculationsLoader","text":"Calculates adherence batches","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculationsLoader.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"For using adherence calculations function with large datasets. — adherenceCalculationsLoader","text":"","code":"adherenceCalculationsLoader(   reference,   cdm,   resultsTableName = \"adherenceFromOMOP_results\",   cma = c(\"CMA1\", \"CMA2\", \"CMA3\", \"CMA4\", \"CMA5\", \"CMA6\", \"CMA7\", \"CMA8\", \"CMA9\"),   batchSize = 1000,   ... )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculationsLoader.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"For using adherence calculations function with large datasets. — adherenceCalculationsLoader","text":"reference reference table cdm cdm_reference object 'name' table resultsTableName name table results stores cma default function calculates adherence different CMA algorithms (CMA1-CMA9). batchSize default 1000. ... input values adherenceCalculations","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceCalculationsLoader.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"For using adherence calculations function with large datasets. — adherenceCalculationsLoader","text":"","code":"if (FALSE) { # \\dontrun{ cdm <- mockAdherenceFromOMOP()  chronicDrugExposure <- generateChronicDrugExposure(cdm = cdm, name = \"chronic_drug_exposure_table\", overwrite = T)  CMA_values <- adherenceCalculationsLoader(reference = chronicDrugExposure, cdm = cdm, cma = \"CMA5\") } # }"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/AdherenceFromOMOP-package.html","id":null,"dir":"Reference","previous_headings":"","what":"AdherenceFromOMOP: Calculate medication adherence using data from OMOP CDM — AdherenceFromOMOP-package","title":"AdherenceFromOMOP: Calculate medication adherence using data from OMOP CDM — AdherenceFromOMOP-package","text":"Adherence concept indicates well patient follow healthcare provider's recommendation. Medication adherence specifically shows patient follows medication regimen gaps. important medications meant consumed chronic diseases, effecacy treatment closely correlated continuity medication consumption. One possibility measure adherence secondary database analysis. OMOP common data model standardised model, provides clear structure healthcare data. possible use OMOP CDM drug_exposure data (consists purchased medication records) measure chronic medication adherence. package makes easy filter records subject purchased chronic medication, calculate adherence said people grouped medication used year visualize interactive dashboard.","code":""},{"path":[]},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/AdherenceFromOMOP-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"AdherenceFromOMOP: Calculate medication adherence using data from OMOP CDM — AdherenceFromOMOP-package","text":"Maintainer: Greete Kelli Aava greete.kelli.aava@ut.ee Authors: Johannes Holm @somewhere.net","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindow.html","id":null,"dir":"Reference","previous_headings":"","what":"AdhereR sliding window function wrapper for OMOP CDM — adherenceSlidingWindow","title":"AdhereR sliding window function wrapper for OMOP CDM — adherenceSlidingWindow","text":"AdhereR sliding window function wrapper OMOP CDM","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"AdhereR sliding window function wrapper for OMOP CDM — adherenceSlidingWindow","text":"","code":"adherenceSlidingWindow(   cdm = NULL,   data = NULL,   cma = c(\"CMA1\", \"CMA2\", \"CMA3\", \"CMA4\", \"CMA5\", \"CMA6\", \"CMA7\", \"CMA8\", \"CMA9\"),   name = NULL,   medicationGroup = NULL,   delayObservationWindowStart = FALSE,   ... )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"AdhereR sliding window function wrapper for OMOP CDM — adherenceSlidingWindow","text":"cdm cdm_reference object 'name' table data Can used -memory data. cma default function calculates adherence different CMA algorithms (CMA1-CMA9). name name table used adherence calculations, generated generateChronicDrugExposure() medicationGroup CMA calculated defined group. Medication group named list name drug_concept_id values. creating list highly recommended use CodelistGenerator \"https://darwin-eu.github.io/CodelistGenerator/articles/a04_GenerateVocabularyBasedCodelist.html\" ... input values CMA_sliding_window","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"AdhereR sliding window function wrapper for OMOP CDM — adherenceSlidingWindow","text":"vector CMA_sliding_windows results","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindow.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"AdhereR sliding window function wrapper for OMOP CDM — adherenceSlidingWindow","text":"","code":"if (FALSE) { # \\dontrun{ connection <- DBI::dbConnect(duckdb::duckdb(dbdir = CDMConnector::eunomiaDir()))  cdm <- CDMConnector::cdmFromCon(   con = connection,   cdmSchema = \"main\",   writeSchema = \"main\",   cdmName = \"my_duckdb_database\" )  cdm <- generateChronicDrugExposure(   cdm = cdm,   ingredients = c(\"acetaminophen\", \"metformin\", \"simvastatin\"),   name = \"test_table\",   overwrite = TRUE ) adherenceSlidingWindow(cdm, name = \"test_table\", cma = c(\"CMA1\", \"CMA2\", \"CMA3\", \"CMA4\")) } # }"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindowLoader.html","id":null,"dir":"Reference","previous_headings":"","what":"For using adherence sliding window function with large datasets — adherenceSlidingWindowLoader","title":"For using adherence sliding window function with large datasets — adherenceSlidingWindowLoader","text":"Calculates adherence batches","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindowLoader.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"For using adherence sliding window function with large datasets — adherenceSlidingWindowLoader","text":"","code":"adherenceSlidingWindowLoader(   reference,   cdm,   resultsTableName = \"adherenceFromOMOP_results\",   cma = c(\"CMA1\", \"CMA2\", \"CMA3\", \"CMA4\", \"CMA5\", \"CMA6\", \"CMA7\", \"CMA8\", \"CMA9\"),   medicationGroup = NULL,   batchSize = 10000,   ... )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/adherenceSlidingWindowLoader.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"For using adherence sliding window function with large datasets — adherenceSlidingWindowLoader","text":"reference reference table cdm cdm_reference object resultsTableName name table results stores cma default function calculates adherence different CMA algorithms (CMA1-CMA9). medicationGroup CMA calculated defined group. Medication group named list name drug_concept_id values. creating list highly recommended use CodelistGenerator \"https://darwin-eu.github.io/CodelistGenerator/articles/a04_GenerateVocabularyBasedCodelist.html\" batchSize default 1000. ... input values CMA_sliding_window","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/cleanNARows.html","id":null,"dir":"Reference","previous_headings":"","what":"cleanNARows — cleanNARows","title":"cleanNARows — cleanNARows","text":"User call .","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/cleanNARows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"cleanNARows — cleanNARows","text":"","code":"cleanNARows(data)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/cleanNARows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"cleanNARows — cleanNARows","text":"data","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/cleanNARows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"cleanNARows — cleanNARows","text":"internal","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/countPeople.html","id":null,"dir":"Reference","previous_headings":"","what":"Counts people, returns an overview of subjects — countPeople","title":"Counts people, returns an overview of subjects — countPeople","text":"Counts people, returns overview subjects","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/countPeople.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Counts people, returns an overview of subjects — countPeople","text":"","code":"countPeople(   cdm = NULL,   cmaTable = NULL,   generatedTable = NULL,   cohortSchema = NULL,   cohortId = NULL,   n = 1 )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/countPeople.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Counts people, returns an overview of subjects — countPeople","text":"cdm cdm reference via CDMConnector. cmaTable reference memory dataframe contains CMA values generatedTable reference memory dataframe contains generateChronicDrug exposure output cohortSchema string value schema database cohortId vector cohort ids count people included n minimum number rows per year person included 'Yearly drug exposure record count' table","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/countPeople.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Counts people, returns an overview of subjects — countPeople","text":"list","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/countPeople.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Counts people, returns an overview of subjects — countPeople","text":"","code":"if (FALSE) { # \\dontrun{ cdm <- mockAdherenceFromOMOP() chronicDrugExposure <- generateChronicDrugExposure(cdm = cdm, name = \"chronic_drug_exposure_table\", overwrite = T) CMA_values <- adherenceCalculationsLoader(reference = chronicDrugExposure, cdm = cdm, cma = \"CMA5\") counts <- countPeople(cdm = cdm, cmaTable = CMA_values, generatedTable = chronicDrugExposure) } # }"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/generateChronicDrugExposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Get drug exposure entries for adherence calculations — generateChronicDrugExposure","title":"Get drug exposure entries for adherence calculations — generateChronicDrugExposure","text":"Get drug exposure entries adherence calculations","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/generateChronicDrugExposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get drug exposure entries for adherence calculations — generateChronicDrugExposure","text":"","code":"generateChronicDrugExposure(   cdm,   name = \"adherenceFromOMOP\",   indexDateForPatientCalculation = \"drug_exposure_start_date\",   overwrite = FALSE,   subjects = NULL,   drugConceptIdList = NULL,   cohortSchema = NULL,   cohortId = NULL,   cohortTableName = \"cohort\",   ... )"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/generateChronicDrugExposure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get drug exposure entries for adherence calculations — generateChronicDrugExposure","text":"cdm cdm reference via CDMConnector. name Name new cohort table, must length 1 character vector. indexDateForPatientCalculation Value indexDate addDeathDays function PatientProfiles. overwrite table provided name exists value chooses action. subjects Possibility choose specific set subjects. drugConceptIdList list drug concept ids determine drug exposure records included cohortSchema Possible include certain people exist specific defined cohort time period. Parameter cohort schema must string value database schema defined cohort. cohortId List numeric values defined cohorts haveS included person ids well start end date cohort. cohortTableName usually named \"cohort\" ... Arguments passed CodelistGenerator getDrugIngredientCodes function.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/generateChronicDrugExposure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get drug exposure entries for adherence calculations — generateChronicDrugExposure","text":"reference table","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/generateChronicDrugExposure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get drug exposure entries for adherence calculations — generateChronicDrugExposure","text":"","code":"if (FALSE) { # \\dontrun{ cdm <- mockAdherenceFromOMOP()  chronicDrugExposure <- generateChronicDrugExposure(   cdm = cdm,   drugConceptIdList = concepts_ids,   name = \"chronic_drug_exposure_table\",   overwrite = T ) } # }"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/loadData.html","id":null,"dir":"Reference","previous_headings":"","what":"Loads data, performs basic checks and mutates columns. User does not call this function directly. — loadData","title":"Loads data, performs basic checks and mutates columns. User does not call this function directly. — loadData","text":"Loads data, performs basic checks mutates columns. User call function directly.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/loadData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Loads data, performs basic checks and mutates columns. User does not call this function directly. — loadData","text":"","code":"loadData(cdm, name, data, delayObservationWindowStart = FALSE)"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/loadData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Loads data, performs basic checks and mutates columns. User does not call this function directly. — loadData","text":"cdm cdm_reference object name name table database contains output generateChronicDrugExposure data -memory dataframe delayObservationWindowStart boolean value. Delays beginning adhereR observation window. Useful calculating adherence sliding window approach.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/loadData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Loads data, performs basic checks and mutates columns. User does not call this function directly. — loadData","text":"verified dataframe suitable format","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/mockAdherenceFromOMOP.html","id":null,"dir":"Reference","previous_headings":"","what":"Mock database for testing package. — mockAdherenceFromOMOP","title":"Mock database for testing package. — mockAdherenceFromOMOP","text":"Mock database testing package.","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/mockAdherenceFromOMOP.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mock database for testing package. — mockAdherenceFromOMOP","text":"","code":"mockAdherenceFromOMOP(nPerson = 5, recordPerson = 3, dbms = duckdb::duckdb())"},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/mockAdherenceFromOMOP.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mock database for testing package. — mockAdherenceFromOMOP","text":"nPerson numeric value omock::mockPerson mockPerson function. recordPerson numeric value omock::mockDrugExposure mockDrugExposure function. dbms currently accepts duckdb","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/mockAdherenceFromOMOP.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mock database for testing package. — mockAdherenceFromOMOP","text":"CDM reference necessary tables","code":""},{"path":"https://healthinformaticsut.github.io/AdherenceFromOMOP/reference/mockAdherenceFromOMOP.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mock database for testing package. — mockAdherenceFromOMOP","text":"","code":"if (FALSE) { # \\dontrun{ cdm <- mockAdherenceFromOMOP() } # }"}]
